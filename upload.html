<!-- 必须先引入 supabase-js 库 -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

<!-- 然后引入你的 supabase.js 文件（里面有 createClient 的那段） -->
<script src="supabase.js"></script>

<!-- 最后再写你的逻辑 -->
<script>
  async function upload() {
    const fileInput = document.getElementById("video");
    const file = fileInput.files[0];
    if (!file) {
      alert("请选择文件");
      return;
    }

    const { data, error } = await supabase.storage.from("videos").upload(file.name, file);
    if (error) {
      alert("上传失败：" + error.message);
    } else {
      alert("上传成功！");
    }
  }
</script>